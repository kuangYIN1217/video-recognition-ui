<div class="container">
  <div class="warn-wrapper">
    <div class="tabs">
      <div class="tab_item focus" routerLinkActive="active" routerLink="/warnmanage">{{appCate=='实时流分析'?'告警实况':'告警列表'}}</div>
      <div class="tab_item" routerLinkActive="active" routerLink="/warnrlue">告警规则</div>
    </div>
    <div class="search-content">
      <div class="search-select">
        <div class="search-info" *ngIf="appCate=='实时流分析'">
          <label>通道名称：</label>
          <select [(ngModel)]="chanName" (ngModelChange)="chanName=$event;">
            <option *ngFor="let item of chanNameArr" value="{{item}}">{{item}}</option>
          </select>
        </div>
        <div class="search-info" *ngIf="appCate=='离线文件分析'">
          <label>告警任务：</label>
          <select [(ngModel)]="warnTask" (ngModelChange)="warnTask=$event;">
            <option *ngFor="let item of warnTaskArr" value="{{item}}">{{item}}</option>
          </select>
        </div>
        <div class="search-info">
          <label>告警规则：</label>
          <select [(ngModel)]="warnRlue" (ngModelChange)="warnRlue=$event;">
            <option *ngFor="let item of warnRlueArr" value="{{item.ruleName}}">{{item.ruleName}}</option>
          </select>
        </div>
        <div class="search-info">
          <label>告警状态：</label>
          <select [(ngModel)]="warnStatus" (ngModelChange)="warnStatus=$event;">
            <option *ngFor="let item of statusArr" value="{{item}}">{{item}}</option>
          </select>
        </div>
      </div>
      <div class="search-time">
        <div class="search-info no-margin">
          <label>告警时间：</label>
          <select [(ngModel)]="startTime" (ngModelChange)="startTime=$event;">
            <!--<option *ngFor="let item of statusArr" value="{{item}}">{{item}}</option>-->
          </select>
          <span>至</span>
          <select [(ngModel)]="endTime" (ngModelChange)="endTime=$event;" class="time-select">
            <!--<option *ngFor="let item of statusArr" value="{{item}}">{{item}}</option>-->
          </select>
        </div>
        <a href="#" onclick="return false" class="btn bgco" (click)="searchWarn()">查询</a>
      </div>
    </div>
    <div class="warn-content">
      <a href="#" onclick="return false" class="btn bgcg">导出</a>
      <div class="table-margin">
        <table class="channelTable" cellspacing="0">
          <tr>
            <th class="checked">
              <img src="../assets/appdetail/way.manage/unchecked.png" *ngIf="allFlag==false" class="middle" (click)="allSel()"/>
              <img src="../assets/appdetail/way.manage/checked.png" *ngIf="allFlag==true" class="middle" (click)="allSel()"/>
            </th>
            <th class="order">通道名称</th>
            <th class="name">告警规则</th>
            <th class="channelAddr">告警时间</th>
            <th class="protocol">时长</th>
            <th class="protocol">快照</th>
            <th class="protocol">状态</th>
            <th class="operation pad">操作</th>
          </tr>
          <tr *ngFor="let item of allWarn let i=index;">
            <td>
              <img src="../assets/appdetail/way.manage/unchecked.png" class="middle pad" (click)="check(item)" *ngIf="item.flag!=1"/>
              <img src="../assets/appdetail/way.manage/checked.png" class="middle pad" (click)="check(item)" *ngIf="item.flag==1"/>
            </td>
            <!--<td class="pad">{{item.channelOrder}}</td>-->
            <!--<td class="pad">{{item.channelName}}</td>-->
            <!--<td class="pad">{{item.channelAddress}}</td>-->
            <!--<td class="pad">{{item.channelProtocol}}</td>-->
            <td class="pad">
              <img src="../assets/warn/chakan.png"/>
              <img src="../assets/warn/xiazai.png"/>
            </td>
            <td></td>
            <td class="operation pad">
              <img src="../assets/warn/chuli.png"/>
              <img src="../assets/warn/chakanxiangqing.png"/>
            </td>
          </tr>
        </table>
        <page [pageParams]="pageParams" (changeCurPage)="getPageData($event)" class="page"></page>
      </div>
    </div>
  </div>
</div>
