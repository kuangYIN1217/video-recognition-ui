<div class="container">
  <div class="task">
    <div class="task_title">
      <div class="title_name fl">
        <label>任务名称：</label>
        <input type="text" name="taskName" [(ngModel)]="taskName"/>
      </div>
      <div class="title_warnStatus fl">
        <label>告警状态：</label>
        <select [(ngModel)]="alarmStatus" (ngModelChange)="alarmStatus=$event;">
          <option *ngFor="let item of alarmStatusArr" value="{{item}}">{{item}}</option>
        </select>
      </div>
      <div class="searchBtn fr">
        <a href="#" onclick="return false" class="btn" (click)="searchTask()">查询</a>
      </div>
    </div>
    <div class="task_body">
      <div class="body_btn">
        <a href="#" class="btn delete fr">删除</a>
        <a href="#" class="btn add fr" routerLinkActive="active" routerLink="/createtext">新增</a>
      </div>
      <div class="task_content">
        <table cellspacing="0" class="taskTable">
          <tr>
            <th class="checked">
              <img src="../assets/appdetail/way.manage/unchecked.png" *ngIf="allFlag==false" class="middle pad" (click)="allSel()"/>
              <img src="../assets/appdetail/way.manage/checked.png" *ngIf="allFlag==true" class="middle pad" (click)="allSel()"/>
            </th>
            <th class="name pad">任务名称</th>
            <th class="rule pad">规则名称</th>
            <th class="file pad">文件个数</th>
            <th class="run pad">运行状态</th>
            <th class="progress pad"> 进度</th>
            <th class="operation pad">操作</th>
          </tr>
          <tr *ngFor="let item of taskList">
            <td class="checked">
              <img src="../assets/appdetail/way.manage/unchecked.png" class="middle pad" (click)="check(item)" *ngIf="item.flag!=1"/>
              <img src="../assets/appdetail/way.manage/checked.png" class="middle pad" (click)="check(item)" *ngIf="item.flag==1"/>
            </td>
            <td class="name pad">{{item.taskName}}</td>
            <td class="rule pad">{{item.taskName}}</td>
            <td class="file pad">{{item.fileNumber}}</td>
            <td class="run pad">{{item.taskStatus}}</td>
            <td class="progress pad">{{item.precent}}</td>
            <td class="operation pad">
              <a class="operationBtn rerun" *ngIf="item.taskStatus=='完成'" (click)="runChannel(item)"></a>
              <a class="operationBtn stop" *ngIf="item.taskStatus!='进行中'" (click)="runChannel(item)"></a>
              <a class="operationBtn start" *ngIf="item.taskStatus=='进行中'" (click)="runChannel(item)"></a>
              <a class="operationBtn look" (click)="look(item)"></a>
              <a class="operationBtn edit" *ngIf="item.taskStatus!='进行中'" (click)="edit(item)"></a>
              <a class="operationBtn unedit" *ngIf="item.taskStatus=='进行中'" (click)="edit(item)"></a>
            </td>
          </tr>
        </table>
        <page [pageParams]="pageParams" (changeCurPage)="getPageData($event)" class="page"></page>
      </div>
    </div>
  </div>
</div>
